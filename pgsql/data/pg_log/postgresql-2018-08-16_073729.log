2018-08-16 07:37:29 GMT LOG:  database system was interrupted; last known up at 2018-08-16 07:36:55 GMT
2018-08-16 07:37:29 GMT LOG:  database system was not properly shut down; automatic recovery in progress
2018-08-16 07:37:29 GMT LOG:  invalid record length at 0/115E8398
2018-08-16 07:37:29 GMT LOG:  redo is not required
2018-08-16 07:37:29 GMT LOG:  MultiXact member wraparound protections are now enabled
2018-08-16 07:37:29 GMT LOG:  database system is ready to accept connections
2018-08-16 07:37:29 GMT LOG:  autovacuum launcher started
2018-08-16 10:32:54 GMT ERROR:  more than one row returned by a subquery used as an expression
2018-08-16 10:32:54 GMT CONTEXT:  SQL statement "SELECT (SELECT id FROM employee WHERE head=1 AND unit=u)"
	PL/pgSQL function isboss(integer,integer) line 1 at assignment
	SQL statement "SELECT NOT isBoss(emp,(SELECT id FROM employee WHERE global_id=u)) AND NOT isGroupBoss(get_global(emp), u) AND NOT isProjectBoss(get_global(emp), u)"
	PL/pgSQL function issignable(integer,integer,integer[],integer) line 1 at IF
2018-08-16 10:32:54 GMT STATEMENT:  SELECT files.id, files.owner, files.name, get_fio(files.owner), files.fname, files.descr, isBlogPermitted (dopusk_type, dopusk, 724::Int) AS permitted, type, properTime(files.created) AS create, files.superior AS superior,  catalog_name(superior),dopusk_type,sizeico, dopusk, vers, properTime(files_vers.created) AS versCreated, ver_id, status, step, files.id = files.copy AS isCopy, copy,isSignable(files.id,dopusk_type,dopusk,owner) AS isSignable, isSignedBy(ver_id,46) AS isSigned, author, get_fio(author) AS author_fio, author is not null AS has_author, isHead(files.owner) AS isHead FROM files, files_vers WHERE file='1' AND files.copy=files_vers.id  AND files.id='253'  ORDER BY files_vers.created DESC LIMIT 1
2018-08-16 10:33:43 GMT ERROR:  more than one row returned by a subquery used as an expression
2018-08-16 10:33:43 GMT CONTEXT:  SQL statement "SELECT (SELECT id FROM employee WHERE head=1 AND unit=u)"
	PL/pgSQL function isboss(integer,integer) line 1 at assignment
	SQL statement "SELECT NOT isBoss(emp,(SELECT id FROM employee WHERE global_id=u)) AND NOT isGroupBoss(get_global(emp), u) AND NOT isProjectBoss(get_global(emp), u)"
	PL/pgSQL function issignable(integer,integer,integer[],integer) line 1 at IF
2018-08-16 10:33:43 GMT STATEMENT:  SELECT files.id, files.owner, files.name, get_fio(files.owner), files.fname, files.descr, isBlogPermitted (dopusk_type, dopusk, 724::Int) AS permitted, type, properTime(files.created) AS create, files.superior AS superior,  catalog_name(superior),dopusk_type,sizeico, dopusk, vers, properTime(files_vers.created) AS versCreated, ver_id, status, step, files.id = files.copy AS isCopy, copy,isSignable(files.id,dopusk_type,dopusk,owner) AS isSignable, isSignedBy(ver_id,46) AS isSigned, author, get_fio(author) AS author_fio, author is not null AS has_author, isHead(files.owner) AS isHead FROM files, files_vers WHERE file='1' AND files.copy=files_vers.id  AND files.id='253'  ORDER BY files_vers.created DESC LIMIT 1
2018-08-16 10:34:06 GMT ERROR:  more than one row returned by a subquery used as an expression
2018-08-16 10:34:06 GMT CONTEXT:  SQL statement "SELECT (SELECT id FROM employee WHERE head=1 AND unit=u)"
	PL/pgSQL function isboss(integer,integer) line 1 at assignment
	SQL statement "SELECT NOT isBoss(emp,(SELECT id FROM employee WHERE global_id=u)) AND NOT isGroupBoss(get_global(emp), u) AND NOT isProjectBoss(get_global(emp), u)"
	PL/pgSQL function issignable(integer,integer,integer[],integer) line 1 at IF
2018-08-16 10:34:06 GMT STATEMENT:  SELECT files.id, files.owner, files.name, get_fio(files.owner), files.fname, files.descr, isBlogPermitted (dopusk_type, dopusk, 724::Int) AS permitted, type, properTime(files.created) AS create, files.superior AS superior,  catalog_name(superior),dopusk_type,sizeico, dopusk, vers, properTime(files_vers.created) AS versCreated, ver_id, status, step, files.id = files.copy AS isCopy, copy,isSignable(files.id,dopusk_type,dopusk,owner) AS isSignable, isSignedBy(ver_id,46) AS isSigned, author, get_fio(author) AS author_fio, author is not null AS has_author, isHead(files.owner) AS isHead FROM files, files_vers WHERE file='1' AND files.copy=files_vers.id  AND files.id='253'  ORDER BY files_vers.created DESC LIMIT 1
2018-08-16 10:37:18 GMT ERROR:  more than one row returned by a subquery used as an expression
2018-08-16 10:37:18 GMT CONTEXT:  SQL statement "SELECT (SELECT id FROM employee WHERE head=1 AND unit=u)"
	PL/pgSQL function isboss(integer,integer) line 1 at assignment
	SQL statement "SELECT NOT isBoss(emp,(SELECT id FROM employee WHERE global_id=u)) AND NOT isGroupBoss(get_global(emp), u) AND NOT isProjectBoss(get_global(emp), u)"
	PL/pgSQL function issignable(integer,integer,integer[],integer) line 1 at IF
2018-08-16 10:37:18 GMT STATEMENT:  SELECT files.id, files.owner, files.name, get_fio(files.owner), files.fname, files.descr, isBlogPermitted (dopusk_type, dopusk, 724::Int) AS permitted, type, properTime(files.created) AS create, files.superior AS superior,  catalog_name(superior),dopusk_type,sizeico, dopusk, vers, properTime(files_vers.created) AS versCreated, ver_id, status, step, files.id = files.copy AS isCopy, copy,isSignable(files.id,dopusk_type,dopusk,owner) AS isSignable, isSignedBy(ver_id,46) AS isSigned, author, get_fio(author) AS author_fio, author is not null AS has_author, isHead(files.owner) AS isHead FROM files, files_vers WHERE file='1' AND files.copy=files_vers.id  AND files.id='253'  ORDER BY files_vers.created DESC LIMIT 1
2018-08-16 10:37:30 GMT ERROR:  more than one row returned by a subquery used as an expression
2018-08-16 10:37:30 GMT CONTEXT:  SQL statement "SELECT (SELECT id FROM employee WHERE head=1 AND unit=u)"
	PL/pgSQL function isboss(integer,integer) line 1 at assignment
	SQL statement "SELECT NOT isBoss(emp,(SELECT id FROM employee WHERE global_id=u)) AND NOT isGroupBoss(get_global(emp), u) AND NOT isProjectBoss(get_global(emp), u)"
	PL/pgSQL function issignable(integer,integer,integer[],integer) line 1 at IF
2018-08-16 10:37:30 GMT STATEMENT:  SELECT files.id, files.owner, files.name, get_fio(files.owner), files.fname, files.descr, isBlogPermitted (dopusk_type, dopusk, 724::Int) AS permitted, type, properTime(files.created) AS create, files.superior AS superior,  catalog_name(superior),dopusk_type,sizeico, dopusk, vers, properTime(files_vers.created) AS versCreated, ver_id, status, step, files.id = files.copy AS isCopy, copy,isSignable(files.id,dopusk_type,dopusk,owner) AS isSignable, isSignedBy(ver_id,46) AS isSigned, author, get_fio(author) AS author_fio, author is not null AS has_author, isHead(files.owner) AS isHead FROM files, files_vers WHERE file='1' AND files.copy=files_vers.id  AND files.id='253'  ORDER BY files_vers.created DESC LIMIT 1
2018-08-16 11:07:51 GMT ERROR:  more than one row returned by a subquery used as an expression
2018-08-16 11:07:51 GMT CONTEXT:  SQL statement "SELECT (SELECT id FROM employee WHERE head=1 AND unit=u)"
	PL/pgSQL function isboss(integer,integer) line 1 at assignment
	SQL statement "SELECT NOT isBoss(emp,(SELECT id FROM employee WHERE global_id=u)) AND NOT isGroupBoss(get_global(emp), u) AND NOT isProjectBoss(get_global(emp), u)"
	PL/pgSQL function issignable(integer,integer,integer[],integer) line 1 at IF
2018-08-16 11:07:51 GMT STATEMENT:  SELECT files.id, files.owner, files.name, get_fio(files.owner), files.fname, files.descr, isBlogPermitted (dopusk_type, dopusk, 724::Int) AS permitted, type, properTime(files.created) AS create, files.superior AS superior,  catalog_name(superior),dopusk_type,sizeico, dopusk, vers, properTime(files_vers.created) AS versCreated, ver_id, status, step, files.id = files.copy AS isCopy, copy,isSignable(files.id,dopusk_type,dopusk,owner) AS isSignable, isSignedBy(ver_id,46) AS isSigned, author, get_fio(author) AS author_fio, author is not null AS has_author, isHead(files.owner) AS isHead FROM files, files_vers WHERE file='1' AND files.copy=files_vers.id  AND files.id='255'  ORDER BY files_vers.created DESC LIMIT 1
2018-08-16 11:10:59 GMT ERROR:  more than one row returned by a subquery used as an expression
2018-08-16 11:10:59 GMT CONTEXT:  SQL statement "SELECT (SELECT id FROM employee WHERE head=1 AND unit=u)"
	PL/pgSQL function isboss(integer,integer) line 1 at assignment
	SQL statement "SELECT NOT isBoss(emp,(SELECT id FROM employee WHERE global_id=u)) AND NOT isGroupBoss(get_global(emp), u) AND NOT isProjectBoss(get_global(emp), u)"
	PL/pgSQL function issignable(integer,integer,integer[],integer) line 1 at IF
2018-08-16 11:10:59 GMT STATEMENT:  SELECT files.id, files.owner, files.name, get_fio(files.owner), files.fname, files.descr, isBlogPermitted (dopusk_type, dopusk, 724::Int) AS permitted, type, properTime(files.created) AS create, files.superior AS superior,  catalog_name(superior),dopusk_type,sizeico, dopusk, vers, properTime(files_vers.created) AS versCreated, ver_id, status, step, files.id = files.copy AS isCopy, copy,isSignable(files.id,dopusk_type,dopusk,owner) AS isSignable, isSignedBy(ver_id,46) AS isSigned, author, get_fio(author) AS author_fio, author is not null AS has_author, isHead(files.owner) AS isHead FROM files, files_vers WHERE file='1' AND files.copy=files_vers.id  AND files.id='253'  ORDER BY files_vers.created DESC LIMIT 1
2018-08-16 11:17:46 GMT ERROR:  more than one row returned by a subquery used as an expression
2018-08-16 11:17:46 GMT CONTEXT:  SQL statement "SELECT (SELECT id FROM employee WHERE head=1 AND unit=u)"
	PL/pgSQL function isboss(integer,integer) line 1 at assignment
	SQL statement "SELECT NOT isBoss(emp,(SELECT id FROM employee WHERE global_id=u)) AND NOT isGroupBoss(get_global(emp), u) AND NOT isProjectBoss(get_global(emp), u)"
	PL/pgSQL function issignable(integer,integer,integer[],integer) line 1 at IF
2018-08-16 11:17:46 GMT STATEMENT:  SELECT files.id, files.owner, files.name, get_fio(files.owner), files.fname, files.descr, isBlogPermitted (dopusk_type, dopusk, 724::Int) AS permitted, type, properTime(files.created) AS create, files.superior AS superior,  catalog_name(superior),dopusk_type,sizeico, dopusk, vers, properTime(files_vers.created) AS versCreated, ver_id, status, step, files.id = files.copy AS isCopy, copy,isSignable(files.id,dopusk_type,dopusk,owner) AS isSignable, isSignedBy(ver_id,46) AS isSigned, author, get_fio(author) AS author_fio, author is not null AS has_author, isHead(files.owner) AS isHead FROM files, files_vers WHERE file='1' AND files.copy=files_vers.id  AND files.id='256'  ORDER BY files_vers.created DESC LIMIT 1
2018-08-16 12:03:37 GMT ERROR:  invalid input syntax for integer: "" at character 71
2018-08-16 12:03:37 GMT STATEMENT:  UPDATE files SET dopusk_type='3', dopusk=NULL WHERE id='-4' AND owner='' 
