2018-09-13 12:23:48 GMT ERROR:  more than one row returned by a subquery used as an expression
2018-09-13 12:23:48 GMT CONTEXT:  SQL statement "SELECT (SELECT id FROM employee WHERE head=1 AND unit=u)"
	PL/pgSQL function isboss(integer,integer) line 1 at assignment
	SQL statement "SELECT NOT isBoss(emp,(SELECT id FROM employee WHERE global_id=u)) AND NOT isGroupBoss(get_global(emp), u) AND NOT isProjectBoss(get_global(emp), u)"
	PL/pgSQL function issignable(integer,integer,integer[],integer) line 1 at IF
2018-09-13 12:23:48 GMT STATEMENT:  SELECT files.id, files.owner, files.name, get_fio(files.owner), files.fname, files.descr, isBlogPermitted (dopusk_type, dopusk, 724::Int) AS permitted, type, properTime(files.created) AS create, files.superior AS superior,  catalog_name(superior),dopusk_type,sizeico, dopusk, vers, properTime(files_vers.created) AS versCreated, ver_id, status, step, files.id = files.copy AS isCopy, copy,isSignable(files.id,dopusk_type,dopusk,owner) AS isSignable, isSignedBy(ver_id,46) AS isSigned, author, get_fio(author) AS author_fio, author is not null AS has_author, isHead(files.owner) AS isHead FROM files, files_vers WHERE file='1' AND files.copy=files_vers.id  AND files.id='284'  ORDER BY files_vers.created DESC LIMIT 1
2018-09-13 12:24:31 GMT ERROR:  more than one row returned by a subquery used as an expression
2018-09-13 12:24:31 GMT CONTEXT:  SQL statement "SELECT (SELECT id FROM employee WHERE head=1 AND unit=u)"
	PL/pgSQL function isboss(integer,integer) line 1 at assignment
	SQL statement "SELECT NOT isBoss(emp,(SELECT id FROM employee WHERE global_id=u)) AND NOT isGroupBoss(get_global(emp), u) AND NOT isProjectBoss(get_global(emp), u)"
	PL/pgSQL function issignable(integer,integer,integer[],integer) line 1 at IF
2018-09-13 12:24:31 GMT STATEMENT:  SELECT files.id, files.owner, files.name, get_fio(files.owner), files.fname, files.descr, isBlogPermitted (dopusk_type, dopusk, 724::Int) AS permitted, type, properTime(files.created) AS create, files.superior AS superior,  catalog_name(superior),dopusk_type,sizeico, dopusk, vers, properTime(files_vers.created) AS versCreated, ver_id, status, step, files.id = files.copy AS isCopy, copy,isSignable(files.id,dopusk_type,dopusk,owner) AS isSignable, isSignedBy(ver_id,46) AS isSigned, author, get_fio(author) AS author_fio, author is not null AS has_author, isHead(files.owner) AS isHead FROM files, files_vers WHERE file='1' AND files.copy=files_vers.id  AND files.id='284'  ORDER BY files_vers.created DESC LIMIT 1
2018-09-13 12:25:07 GMT ERROR:  more than one row returned by a subquery used as an expression
2018-09-13 12:25:07 GMT CONTEXT:  SQL statement "SELECT (SELECT id FROM employee WHERE head=1 AND unit=u)"
	PL/pgSQL function isboss(integer,integer) line 1 at assignment
	SQL statement "SELECT NOT isBoss(emp,(SELECT id FROM employee WHERE global_id=u)) AND NOT isGroupBoss(get_global(emp), u) AND NOT isProjectBoss(get_global(emp), u)"
	PL/pgSQL function issignable(integer,integer,integer[],integer) line 1 at IF
2018-09-13 12:25:07 GMT STATEMENT:  SELECT files.id, files.owner, files.name, get_fio(files.owner), files.fname, files.descr, isBlogPermitted (dopusk_type, dopusk, 724::Int) AS permitted, type, properTime(files.created) AS create, files.superior AS superior,  catalog_name(superior),dopusk_type,sizeico, dopusk, vers, properTime(files_vers.created) AS versCreated, ver_id, status, step, files.id = files.copy AS isCopy, copy,isSignable(files.id,dopusk_type,dopusk,owner) AS isSignable, isSignedBy(ver_id,46) AS isSigned, author, get_fio(author) AS author_fio, author is not null AS has_author, isHead(files.owner) AS isHead FROM files, files_vers WHERE file='1' AND files.copy=files_vers.id  AND files.id='284'  ORDER BY files_vers.created DESC LIMIT 1
2018-09-13 12:26:44 GMT LOG:  could not receive data from client: An existing connection was forcibly closed by the remote host.
	
